# 第三章：深入 Linux 内核网络
:::tip <a/>

创造操作系统，就是去创造一个所有应用程序赖以运行的基础环境。从根本上来说，就是在制定规则：什么可以接受，什么可以做，什么不可以做。事实上，所有的程序都是在制定规则，只不过操作系统是在制定最根本的规则。

:::right

—— 摘自《Linus Torvalds 自传》[^1]
:::

对于大多数常规的业务开发而言，掌握 HTTP 协议并结合一些 TCP 知识，往往已经足够。然而，当你试图看透各种技术方案的本质，或者深入探究技术问题的根本原因时，这些基础知识便显得不够了。

要想真正理解系统的运行机制，必须掌握操作系统制定的核心规则，深入了解各个模块如何紧密协作，以及这些模块如何影响应用层的软件与方案设计。只有在具备了对整个系统的全面视野后，才能更清晰地识别问题的本质，从而提升架构设计和技术选型的能力。

在本章中，我们将深入剖析数据包在 Linux 内核中的处理过程，探讨 Linux 系统中最核心的模块：netfilter、iptables、和 conntrack。我们将分析这些模块的性能瓶颈及其相应的解决方案。最后，我们还将介绍与虚拟化网络相关的协议和虚拟设备，这些技术是构成负载均衡、容器网络、服务网格等高级应用场景的关键基础。

:::center
  ![](../assets/network-summary.png)<br/>
  图 3-0 本章内容导读
:::


[^1]: Linus Torvalds 是 Linux 内核的最早作者，他还发明了 Git，被戏称为程序员的祖师爷。