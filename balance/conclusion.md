# 4.7 小结

负载均衡器是现代分布式系统的核心组件。

从处理的网络层次总结，所有的负载均衡器分为两类：四层负载均衡和七层负载均衡：

- 四层负载均衡器处理传输层连接，功能相对简单，主要依赖 IP 地址和端口信息进行流量分发。随着技术的不断演进，传统负载均衡设备（如 F5）逐渐被通用服务器之上，基于 IPVS、DPDK、fd.io 等框架的专用软件方案取代。例如，一台普通物理主机，在基于 DPDK 开发的流量转发或数据包处理场景下，能轻松达突破百万到数千万的 PPS（Packets Per Second，每秒处理的数据包数量）指标。
- 七层负载均衡器处理应用层流量，职责更广，功能更强。如处理 HTTP 请求、SSL 卸载、URL 路由、Cookie 路由等。这几年，源于微服务架构的快速发展，该领域十分活跃。像传统代理软件（NGINX、HAProxy），也逐渐被更适应动态微服务架构后来者（Envoy、Traefik...）替代。


总体而言，随着技术架构逐步向云厂商主导的 IaaS、CaaS 和 FaaS 模式演进，未来工程师将很少需要关注物理网络的工作原理。隐藏在通用软件方案中的各类网络技术，将逐渐演变为“黑科技”。

参考文档：
- 《现代网络负载均衡与代理导论》，https://blog.envoyproxy.io/introduction-to-modern-network-load-balancing-and-proxying-a57f6ff80236
